{% extends 'frontend/base.html' %}
{% block  title %} Admin settings {% endblock title %}
{% block  pagetitle %} Add Users {% endblock pagetitle %}
{% block  main %} 

<!-- inner-content -->
<div class="inner-content">
    <nav class=" ml-2 mt-2">
        <ul class="d-flex"style="list-style-type: none;" >
            <li class="nav-item active" >
                <a class="nav-link btn btn-sm btn-success mr-2" href="/users"><b>View Users</b> <span class="sr-only">(current)</span></a>
            </li>            
            <li class="nav-item active" >
                <a class="nav-link btn btn-sm btn-success mr-2" href="/settings"><b>Add Users</b> <span class="sr-only">(current)</span></a>
            </li>            
        </ul>
    </nav>
    {% if messages %}
        <ul class="messages col-md-6 mt-3">
            <script>
                $(".alert").alert();
            </script>
            {% for message in messages %}
                <div class="alert alert-warning alert-dismissible fade show" role="alert" {% if message.tags %} class="{{ message.tags }}"{% endif %}>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                    <strong >{{ message }}</strong> 
                </div>
            {% endfor %}
        </ul>
    {% endif %}

    <div class="stud-info">
            <form action="{% url 'create_user' %}" class="shadow rounded bg-light p-3 mt-4" method="post" enctype="multipart/form-data">
                {% csrf_token %}

                <h5 class="text-center">Add Admin User</h5>
                <hr>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label for="">Name: </label>
                        <input type="text" name="full_name" class="form-control" required>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="">Username: </label>
                        <input type="text" name="username" class="form-control" required>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label for="">Email: </label>
                        <input type="email" name="email" class="form-control" required>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="">Password: </label>
                        <input type="password" name="password" class="form-control" >
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label for="group">Select User Role:</label>
                        <select id="group" name="group" class="form-control" required>
                            <option value="" disabled selected>Select a Role</option>
                            {% for group in groups %}
                                <option value="{{ group.id }}">{{ group.name }}</option>
                            {% endfor %}
                        </select> 
                    </div>                   
                </div>
                <button type="submit" class="btn btn-sm btn-dark w-25">Save</button>
            </form>

        <div class="table-section" style="font-size: 14px;"> 
            {% if messages %}
                <ul class="messages">
                    <script>
                        $(".alert").alert();
                    </script>
                    {% for message in messages %}
                        <div class="alert alert-warning alert-dismissible fade show" role="alert" {% if message.tags %} class="{{ message.tags }}"{% endif %}>
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                            </button>
                            <strong >{{ message }}</strong> 
                        </div>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>        

{% endblock main %}